---
title: "An Introduction to R"
author: "Daniel Kaplan"
date: "March 3, 2015"
output: ioslides_presentation
runtime: shiny
---

## R for Python People

```{r engine='python'}
print("Hello, Data^3 Python People!")
```

```{r}
"And to you also, R Folks!"
```

I'm orienting this talk to people who are familiar with programming ... but not necessarily either R or Python.

## Outline

1. Basic syntax of R
2. The community of packages
    * vetted and unvetted channels
    * writing and distributing packages
3. Data- and graphics-oriented packages
    * simple data scraping
    * some transformation, e.g. joins
    * ggplot2
    * dygraphs
4. Integration with documents
    * html & markdown
5. Interactivity
    * interactive documents
    * apps

## Is R better or worse than what I use now?

Better or worse for what?


A language ought to be evaluated based on its effectiveness for the purpose at hand.

* Can people write the programs they need?
* Does it facilitate using existing, appropriate tools?  

Should be ...

* Well or poorly suited to the task at hand
* Meets constraints
    * limited cognitive bandwidth & expertise in other domains
    * storage space and time availability

R has developed to serve needs of

* data : this is relatively new as regards large-scale data.
* statistics methods including modeling : always been strong at this
* graphical and narrative presentation :
* use by non-programmers, including students

## Basic syntax

Example from Jessens book or thinkPython

Loops, conditionals, function definitions, simple objects & overloading

## More advanced programming

* functional language with lexical scoping
* complex objects and methods
* straightforward interface to C, C++, FORTRAN
* web connectivity, curl, databases, internal http server, ...

## Packages

* Basic complete unit of software/data/documentation distribution
* Analogous to Python modules (I think)
* "Official" vetted channel: CRAN.  This is really just an allied service. [Show installation.]
* "Task views" provide overviews by experts. [Show natural language task view.] Blogs provide commentary by ... Bloggers. vignettes provide narrative documentation. [Show R-Bloggers]. Large user community. [show usage surveys?]
* Unofficial channels: e.g. GitHub.  These are full fledged packages. Just the distribution channel differs.
* Development tools, e.g unit testing, profiling, debugging, style checking, ...

## Example: mosaic

* Install from CRAN
* Function level documentation
* Vignettes
* Consistent template and symbolic computing.

## Data- and graphics-oriented packages

Too many to do justice to.  I'll focus on a couple, but keep in mind that you might prefer others.  There's competition, so constant development.

* dplyr - SQL-like capabilities with a nicer syntax.
* ggplot2
* dyngraphs

## Example setting

Bike sharing system in Washington, DC

Event table: times in lubridate format

Location table

DC shape file

## Task 1

A table of hourly use, weekdays and weekends

## Task 2

Density of use by hour for members and casuals

## Task 3

Net influx and outflux by station, by 10-minute intervals

Plot by location. facet by time.  Then ... Slider for time.

## Task 4

Look at single user over time. Map out their use.

Or, center on the most often used station and find variance of visits to other stations.

## dyngraphs

Long time series by day of week or weekend weekday

## Original data format and scraping commands

XML of stations

Time and duration conversion


## Package development

Just show Hadley's book

## integration with documents

Show this document

Change bootstrap theme

Compile to Word?

Fancy formatting: Show Data Computing book


## Apps

Show bicycle share app:

1. On my computer
2. Modify slightly and deploy to shinyio.org
3. Invite them to run on their smartphones

## Shiny Presentation

This R Markdown presentation is made interactive using Shiny. The viewers of the presentation can change the assumptions underlying what's presented and see the results immediately. 

To learn more, see [Interactive Documents](http://rmarkdown.rstudio.com/authoring_shiny.html).

## Slide with Interactive Plot

```{r, echo=FALSE}
inputPanel(
  selectInput("n_breaks", label = "Number of bins:",
              choices = c(10, 20, 35, 50), selected = 20),
  
  sliderInput("bw_adjust", label = "Bandwidth adjustment:",
              min = 0.2, max = 2, value = 1, step = 0.2)
)

renderPlot({
  hist(faithful$eruptions, probability = TRUE, breaks = as.numeric(input$n_breaks),
       xlab = "Duration (minutes)", main = "Geyser eruption duration")
  
  dens <- density(faithful$eruptions, adjust = input$bw_adjust)
  lines(dens, col = "blue")
})
```

## Slide with Bullets

- Bullet 1
- Bullet 2
- Bullet 3

## Slide with R Code and Output

```{r}
summary(cars)
```


